Title: 指定したユーザーの鍵投稿をフィルターする機能を実装してみた
Date: 2019-01-02 12:00
Tags: mastodon, ruby, odakyudon
Slug: 20190102-private_filter
Authors: kyori
Summary: 指定したユーザーの鍵投稿をフィルターする改造の使い方と技術的な話とか

ブログ生やしてみました。ブログ生やしたことはまた別記事ででも紹介することにします、気が向いたら。

それじゃ、本題の **指定したユーザーの鍵投稿をフィルターする** Mastodonの改造を紹介します。

## そもそもなんで作ろうと思ったのか

1/2の朝6時くらいに眠いなーまだ寝たいなーなどと思いながらHTLを遡っていたら、

>フォローはしたいがフォロワー限定にするような話題は読みたくない

なんて話を目撃して、何故かやる気がもりもりと湧いてきてしまった…という次第

## とりあえず先に機能紹介

他にも書きたいことはあるけど、とりあえずどんな機能なのか紹介します。試してみたい方は [小田急don](https://odakyu.app/) に実装してあるので使ってみてください。

Mastodonのキーワードフィルター機能を利用して、指定したユーザーの鍵投稿を非表示にします。

![フィルター設定](/images/20190102113226.png)

フィルターするキーワードは、 `private-filter:@username@domain` で、

必ず `隠すのではなく除外する` にチェックを入れます。

絶対に、 `隠すのではなく除外する` にチェックを入れてください。(大事なことなので)

ローカルのユーザーを指定するときは、 `private-filter:@username` で大丈夫です。

![投稿者のタイムライン](/images/20190102113919.png) ![フィルターされたタイムライン](/images/20190102113950.png)

_投稿者のタイムライン_ ← → _フィルターされたタイムライン_

## 技術的な話

あとで書きます
